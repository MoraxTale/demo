package com.example.demo;

import javafx.fxml.FXML;
import javafx.scene.control.ListView;

import java.util.HashMap;
import java.util.Map;

public class TreasureController {
    private Controller mainController;

    @FXML
    private ListView<String> treasureListView; // 我的法宝列表

    private final Map<String, TreasureData> treasures = new HashMap<>();

    public void setMainController(Controller mainController) {
        this.mainController = mainController;
    }

    public Map<String, TreasureData> getTreasures() {
        return treasures;
    }

    public void setTreasures(Map<String, TreasureData> newTreasures) {
        treasures.clear();
        treasures.putAll(newTreasures);
        updateTreasureDisplay();
    }

    // 更新法宝显示
    public void updateTreasureDisplay() {
        treasureListView.getItems().clear();
        for (String name : treasures.keySet()) {
            treasureListView.getItems().add(name);
        }
    }

    public void addTreasure(TreasureData treasure) {
        treasures.put(treasure.getName(), treasure);
        updateTreasureDisplay();
    }
}
